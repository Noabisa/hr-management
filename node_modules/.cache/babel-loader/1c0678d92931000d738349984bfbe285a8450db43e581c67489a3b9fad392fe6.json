{"ast":null,"code":"// VehicleList.js\nimport React,{useEffect,useState}from'react';import axios from'axios';import'../App.css';// Ensure you import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VehicleList=()=>{const[vehicles,setVehicles]=useState([]);const[isEditing,setIsEditing]=useState(false);const[currentVehicle,setCurrentVehicle]=useState({id:'',model:'',status:''});const[searchTerm,setSearchTerm]=useState('');// State for search term\nconst fetchVehicles=async()=>{try{const response=await axios.get('http://localhost:5003/api/vehicles');setVehicles(response.data);}catch(error){console.error('Error fetching vehicles:',error);}};useEffect(()=>{fetchVehicles();},[]);const handleDelete=async id=>{try{await axios.delete(`http://localhost:5003/api/vehicles/${id}`);fetchVehicles();// Refresh vehicle list\n}catch(error){console.error('Error deleting vehicle:',error);}};const handleEdit=vehicle=>{setCurrentVehicle(vehicle);setIsEditing(true);};const handleUpdate=async e=>{e.preventDefault();try{await axios.put(`http://localhost:5003/api/vehicles/${currentVehicle.id}`,{model:currentVehicle.model,status:currentVehicle.status});setIsEditing(false);fetchVehicles();// Refresh vehicle list\nsetCurrentVehicle({id:'',model:'',status:''});// Clear the form\n}catch(error){console.error('Error updating vehicle:',error);}};// Filter vehicles based on the search term\nconst filteredVehicles=vehicles.filter(vehicle=>vehicle.model.toLowerCase().includes(searchTerm.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{className:\"vehicle-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Vehicle List\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by model...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"search-bar\"}),/*#__PURE__*/_jsx(\"ul\",{children:filteredVehicles.map(vehicle=>/*#__PURE__*/_jsxs(\"li\",{children:[vehicle.model,\" - \",vehicle.status,/*#__PURE__*/_jsx(\"button\",{className:\"edit\",onClick:()=>handleEdit(vehicle),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:()=>handleDelete(vehicle._id),children:\"Delete\"})]},vehicle._id))}),isEditing&&/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Vehicle\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Model:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:currentVehicle.model,onChange:e=>setCurrentVehicle({...currentVehicle,model:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Status:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:currentVehicle.status,onChange:e=>setCurrentVehicle({...currentVehicle,status:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Vehicle\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsEditing(false),children:\"Cancel\"})]})]})]});};export default VehicleList;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","VehicleList","vehicles","setVehicles","isEditing","setIsEditing","currentVehicle","setCurrentVehicle","id","model","status","searchTerm","setSearchTerm","fetchVehicles","response","get","data","error","console","handleDelete","delete","handleEdit","vehicle","handleUpdate","e","preventDefault","put","filteredVehicles","filter","toLowerCase","includes","className","children","type","placeholder","value","onChange","target","map","onClick","_id","onSubmit","required"],"sources":["C:/Users/user/OneDrive/Desktop/BSCSMY2S1/WebDesign/Hr-management/hr-management/src/components/VehicleList.js"],"sourcesContent":["// VehicleList.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport '../App.css'; // Ensure you import the CSS file\r\n\r\nconst VehicleList = () => {\r\n    const [vehicles, setVehicles] = useState([]);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [currentVehicle, setCurrentVehicle] = useState({ id: '', model: '', status: '' });\r\n    const [searchTerm, setSearchTerm] = useState(''); // State for search term\r\n\r\n    const fetchVehicles = async () => {\r\n        try {\r\n            const response = await axios.get('http://localhost:5003/api/vehicles');\r\n            setVehicles(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching vehicles:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchVehicles();\r\n    }, []);\r\n\r\n    const handleDelete = async (id) => {\r\n        try {\r\n            await axios.delete(`http://localhost:5003/api/vehicles/${id}`);\r\n            fetchVehicles(); // Refresh vehicle list\r\n        } catch (error) {\r\n            console.error('Error deleting vehicle:', error);\r\n        }\r\n    };\r\n\r\n    const handleEdit = (vehicle) => {\r\n        setCurrentVehicle(vehicle);\r\n        setIsEditing(true);\r\n    };\r\n\r\n    const handleUpdate = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.put(`http://localhost:5003/api/vehicles/${currentVehicle.id}`, {\r\n                model: currentVehicle.model,\r\n                status: currentVehicle.status,\r\n            });\r\n            setIsEditing(false);\r\n            fetchVehicles(); // Refresh vehicle list\r\n            setCurrentVehicle({ id: '', model: '', status: '' }); // Clear the form\r\n        } catch (error) {\r\n            console.error('Error updating vehicle:', error);\r\n        }\r\n    };\r\n\r\n    // Filter vehicles based on the search term\r\n    const filteredVehicles = vehicles.filter(vehicle =>\r\n        vehicle.model.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"vehicle-list\">\r\n            <h2>Vehicle List</h2>\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Search by model...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"search-bar\"\r\n            />\r\n            <ul>\r\n                {filteredVehicles.map((vehicle) => (\r\n                    <li key={vehicle._id}>\r\n                        {vehicle.model} - {vehicle.status}\r\n                        <button className=\"edit\" onClick={() => handleEdit(vehicle)}>Edit</button>\r\n                        <button className=\"delete\" onClick={() => handleDelete(vehicle._id)}>Delete</button>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n\r\n            {isEditing && (\r\n                <div className=\"edit-form\">\r\n                    <h3>Edit Vehicle</h3>\r\n                    <form onSubmit={handleUpdate}>\r\n                        <label>Model:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={currentVehicle.model}\r\n                            onChange={(e) => setCurrentVehicle({ ...currentVehicle, model: e.target.value })}\r\n                            required\r\n                        />\r\n                        <label>Status:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={currentVehicle.status}\r\n                            onChange={(e) => setCurrentVehicle({ ...currentVehicle, status: e.target.value })}\r\n                            required\r\n                        />\r\n                        <button type=\"submit\">Update Vehicle</button>\r\n                        <button type=\"button\" onClick={() => setIsEditing(false)}>Cancel</button>\r\n                    </form>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VehicleList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}